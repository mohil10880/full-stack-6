<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bank Transaction System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f6f6f6;
            padding: 30px;
        }
        h1 {
            color: #333;
        }
        .container {
            background-color: white;
            padding: 20px 30px;
            width: 400px;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        input {
            width: 100%;
            padding: 8px;
            margin: 8px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
            cursor: pointer;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        .success {
            color: green;
        }
        .error {
            color: red;
        }
    </style>
</head>
<body>

<h1>üè¶ Bank Transaction System</h1>
<div class="container">
    <label for="fromId">From Account ID:</label>
    <input type="number" id="fromId" placeholder="Enter sender account ID">

    <label for="toId">To Account ID:</label>
    <input type="number" id="toId" placeholder="Enter receiver account ID">

    <label for="amount">Amount:</label>
    <input type="number" id="amount" placeholder="Enter transfer amount">

    <button onclick="performTransaction()">Transfer Money</button>

    <div id="result"></div>
</div>

<script>
async function performTransaction() {
    const fromId = document.getElementById("fromId").value;
    const toId = document.getElementById("toId").value;
    const amount = document.getElementById("amount").value;
    const result = document.getElementById("result");

    if (!fromId || !toId || !amount) {
        result.innerHTML = "‚ö†Ô∏è Please fill all fields.";
        result.className = "error";
        return;
    }

    result.innerHTML = "‚è≥ Processing transaction...";
    result.className = "";

    try {
        const response = await fetch(
            `/api/transactions/transfer?fromId=${fromId}&toId=${toId}&amount=${amount}`,
            { method: "POST" }
        );
        const text = await response.text();

        if (response.ok) {
            result.innerHTML = "‚úÖ " + text;
            result.className = "success";
        } else {
            result.innerHTML = "‚ùå Error: " + text;
            result.className = "error";
        }
    } catch (err) {
        result.innerHTML = "‚ùå Network error: " + err.message;
        result.className = "error";
    }
}
</script>

</body>
</html>
